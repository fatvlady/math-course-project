% !TeX root=..main.tex
\section{Дослідження крайових випадків}

В цьому підрозділі буде розглянуто 3 моделі поведінки водіїв для того, щоб отримати певні оцінки для значень $F(x)$.

Перша модель припускає, що всі водії <<чемні>> та ставлять свій автомобіль скраю вільної частини парковки, наприклад, зліва. Зрозуміло, що це найбільш оптимальний випадок, тобто така модель дозволить припаркувати рівно стільки автомобілей, скільки взагалі може вміститися на парковці.

Друга модель припускає, що всі водії, навпаки, намагаються зайняти якомога більше місця, і тому відступають від краю вільної зони максимально можливий проміжок, в який не вміститься інший автомобіль.

Третя модель припускає, що водії ставлять свої автомобілі посередині вільного проміжку. Ця модель не є крайнім випадком, але є досить цікавою реалізацією процесу паркування.

Всі 3 моделі схематично зображені на \imref{fig:trivial_cases}.

\begin{figure}[bh]
	\begin{subfigure}[b]{0.32\textwidth}    
		\centering
		\includegraphics[width=1\linewidth]{chapter_Asymptotics/img/parking_trivial1}
		\caption{}
	\end{subfigure}
	\begin{subfigure}[b]{0.32\textwidth}    
		\centering
		\includegraphics[width=1\linewidth]{chapter_Asymptotics/img/parking_trivial2}
		\caption{}
	\end{subfigure}
	\begin{subfigure}[b]{0.32\textwidth}    
		\centering
		\includegraphics[width=1\linewidth]{chapter_Asymptotics/img/parking_trivial3}
		\caption{}
	\end{subfigure}
	\caption{Схематичне зображення першої (а), другої (б), та третьої (в) невипадкових моделей}
	\label{fig:trivial_cases}
\end{figure}

Тепер необхідно визначити результати для цих моделей. Для першої моделі відповідь досить очевидна:
\begin{equation}
	\label{eq:upperbound}
	F(x)=[x]
\end{equation}

Для другої моделі для спрощення вважатимемо, що усі водії стають зліва вільної частини. Тоді у перших $[\frac x2]$ авто зліва буде відповідний проміжок розміром майже 1 (нехай рівно 1 – границя), а також, якщо виконується нерівність $x - 2 * [\frac x2] \geq 1$, то можна вмістити ще 1 автомобіль. Остання нерівність виконується тільки якщо $[x]$ – непарне число. Але тоді $[\frac{x+1}{2}] = 2 * [\frac{x}{2}] + 1$. А якщо $x$ – парне, то $[\frac{x}{2}] = [\frac{x+1}{2}]$, і це допоможе уникнути системи у відповіді. Отже, для другої моделі:

\begin{equation}
	\label{eq:lowerbound}
	F(x)=\left[\frac{x+1}{2}\right]
\end{equation}
\\
Для визначення відповіді для тертьої моделі треба навести кілька спостережень:
\begin{align}
	&x < 1 \Rightarrow F(x)=0;\quad 1 \leq x < 3 \Rightarrow F(x) = 1.\label{eq:part_case_prop1}\\
	&F(x) = 2 * F\left(\frac{x-1}{2}\right) + 1, x \geq 1.\label{eq:part_case_prop2}
\end{align}
Перше твердження очевидне, а друге випливає з того, що ставлячи автомобіль посередині вільного проміжку довжини $x$, ми отримуємо два
нових вільних проміжка довжини $\frac{x-1}{2}$. Використовуючи наведені факти,
спробуємо довести, що
\begin{equation}
	F(x) = 2^k - 1,\quad x \in [2^k - 1, 2^{k+1} - 1), k \in \mathbb{N} \cup \{0\} \label{eq:part_case_res3}
\end{equation}
\begin{proof}
	Скористаємось методом математичної індукції. База індукції доведена, спираючись на спостереження \fmref{eq:part_case_prop1}. Нехай твердження доведено для $k$, доведемо його для $k+1$.
	
	\begin{equation}
		x \in [2^{k+1} - 1, 2^{k+2} - 1) \Rightarrow \frac{x-1}{2} \in [2^k - 1, 2^{k+1} - 1)
	\end{equation}
	Оскільки виконується \fmref{eq:part_case_prop2}, і для $k$ виконується \fmref{eq:part_case_res3} за припущенням, то маємо:
	\begin{equation}
		F(x) = 2 * F\left(\frac{x-1}{2}\right) + 1 = 2 * (2^k - 1) + 1 = 2^{k+1} - 2 + 1 = 2^{k+1} - 1
	\end{equation}
	Перехід індукції доведено.
\end{proof}